!function(){var RescueTime;RescueTime=function(){function RescueTime(chartid){this._context=document.getElementById(chartid).getContext("2d");this.chart=new Chart(this._context)}RescueTime.prototype.request=function(url,type){var _this=this;return $.get(url,{type:type}).done(function(data){_this._data=JSON.parse(data);return _this.redraw()}).fail(function(error){return console.log(error)})};RescueTime.prototype.redraw=function(){var _ref;if(this._data==null){return}this.chart=new Chart(this._context);return this.draw(this._data["type"],this._data["data"],(_ref=this._data["labels"])!=null?_ref:{})};RescueTime.prototype.draw=function(type,data,display){var dataset,key,labels,options,total,value,_ref,_ref1,_ref2;if(display==null){display={}}switch(type){case"radar":labels=[];dataset={fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:[]};total=0;for(key in data){value=data[key];labels.push((_ref=display[key])!=null?_ref:key);dataset.data.push(value);total+=value}_ref1=dataset.data;for(key in _ref1){value=_ref1[key];dataset.data[key]=Math.round(value/total*100)}data={labels:labels,datasets:[dataset]};options={animationEasing:"easeInOutQuart",tooltips:{labelTemplate:"<%=label%>: <%=value%> percent"}};return this.chart.Radar(data,options);case"bar":labels=[];dataset={fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",data:[]};for(key in data){value=data[key];labels.push((_ref2=display[key])!=null?_ref2:key);dataset.data.push(Math.round(value/60))}data={labels:labels,datasets:[dataset]};options={animationEasing:"easeInOutQuart",tooltips:{labelTemplate:"<%=label%>: <%=value%> minutes"}};return this.chart.Bar(data,options)}};return RescueTime}();(typeof exports!=="undefined"&&exports!==null?exports:this).RescueTime=RescueTime}.call(this);